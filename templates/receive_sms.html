{% extends "base.html" %}

{% block head %}
    {{ super() }}
{% endblock %} 

{% block content %}
<!-- Receive SMS Content -->
<!-- Receive SMS Content -->
<div class="md:p-16 p-4 md:m-8 m-4 rounded-lg grid grid-cols-1 md:grid-cols-3 gap-4 text-black bg-[#d8e3e9] min-h-screen rounded-lg my-shadow">
    <!-- Country and Service Selection -->
    <div class="bg-white p-6 rounded-lg shadow-lg col-span-1 md:col-span-1 lg:col-span-1 xl:col-span-1">
        <h2 class="text-2xl font-bold mb-4">Select Country and Service</h2>
        <div class="mb-4">
            <label for="country" class="block text-gray-700 font-bold mb-2">Country:</label>
            <div class="relative my-shadow">
                <div class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline cursor-pointer" id="countryDropdown" onclick="toggleCountryDropdown()">
                    <span>Select a country</span>
                    <svg class="fill-current h-4 w-4 inline-block float-right mt-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 3a1 1 0 00-.707.293l-5 5a1 1 0 001.414 1.414L10 5.414l4.293 4.293a1 1 0 001.414-1.414l-5-5A1 1 0 0010 3z"/></svg>
                </div>
                <ul class="hidden absolute z-10 bg-white w-full border border-gray-400 rounded shadow mt-1 h-64 overflow-scroll" id="countryList">
                    <li class="px-4 py-2">
                        <input type="text" id="countrySearch" onkeyup="filterCountries()" placeholder="Search for a country..." class="w-full px-3 py-2 border border-gray-300 rounded">
                    </li>                    
                    {% for country in countries %}
                    <li class="country-item px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="selectCountry('{{ country.title }}', '{{country.code}}', '{{country.id}}')">
                        <img src="{{ 'https://hatscripts.github.io/circle-flags/flags/'+ country.code|lower +'.svg' }}" alt="{{ country.title }}" class="inline-block w-5 h-5 mr-2"
                        onerror="this.onerror=null;this.src='https://hatscripts.github.io/circle-flags/flags/ca.svg';">
                        {{ country.title }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="mb-4">
            <label for="service" class="block text-gray-700 font-bold mb-2">Service:</label>
            <div class="relative my-shadow">
                <div class="block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-2 py-2 pr-8 rounded shadow leading-tight focus:outline-none focus:shadow-outline cursor-pointer" id="serviceDropdown" onclick="toggleServiceDropdown()">
                    <span>Select a service</span>
                    <svg class="fill-current h-4 w-4 inline-block float-right mt-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M10 3a1 1 0 00-.707.293l-5 5a1 1 0 001.414 1.414L10 5.414l4.293 4.293a1 1 0 001.414-1.414l-5-5A1 1 0 0010 3z"/></svg>
                </div>
                <ul class="hidden absolute z-10 bg-white w-full border border-gray-400 rounded shadow mt-1 h-64 overflow-scroll" id="serviceList">
                    <li class="px-4 py-2">
                        <input type="text" id="serviceSearch" onkeyup="filterServices()" placeholder="Search for a service..." class="w-full px-3 py-2 border border-gray-300 rounded">
                    </li>        
                    {% for service in services %}
                    <li class="service-item px-4 py-2 hover:bg-gray-100 cursor-pointer" onclick="selectService('{{ service.title }}', '{{service.code}}', '{{service.id}}')">
                        <img src="{{ 'https://imagedelivery.net/cg2aWO7l_BnFQQ6dZHYOSA/services/' + service.code|lower + '.png/thumb' }}" alt="{{ service.title }}" class="inline-block w-5 h-5 mr-2"
                        onerror="this.onerror=null;this.src='https://imagedelivery.net/cg2aWO7l_BnFQQ6dZHYOSA/services/wb.png/thumb';">
                        {{ service.title }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div id="spinner" class="mb-4 mt-10 p-4 my-shadow rounded-sm hidden inset-0 flex items-center justify-center z-50">
            <div class="loader"></div>
        </div>
        <div id="availability" class="mb-4 mt-10 p-4 flex flex-wrap justify-between my-shadow rounded-sm">
            <div class="flex flex-col">
                <span class="text-gray-700">Number available</span>
                <span id="number-available" class="font-bold">0</span>
            </div>            
            <div class="flex flex-col">
                <span class="text-gray-700">Amount</span>
                <span id="amount" class="font-bold">0</span>
            </div>
        </div>
        <button class="w-full mt-4 gradient text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 hover:bg-blue-600 transition-all">
            Purchase
        </button>
    </div>

    <!-- Recent Transactions -->
    <div class="bg-white p-6 rounded-lg shadow-lg col-span-1 md:col-span-2 lg:col-span-2 xl:col-span-2">
      <h2 class="text-2xl font-bold mb-4">Recent Transactions</h2>
      <ul class="list-disc list-inside">
        <li>Transaction 1: +$10.00</li>
        <li>Transaction 2: -$5.00</li>
        <li>Transaction 3: +$20.00</li>
        <li>Transaction 4: -$7.00</li>
        <!-- Add more transactions as needed -->
      </ul>
    </div>
</div>

{% endblock %}